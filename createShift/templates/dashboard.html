<!-- templates/dashboard.html -->
<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>シフト管理ダッシュボード</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>

<style>
    #overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        backdrop-filter: blur(6px);
        background-color: rgba(0, 0, 0, 0.4);
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
    }

    #overlay .close-button {
        position: absolute;
        top: 20px;
        right: 20px;
        background-color: #dc3545;
        color: white;
        border: none;
        padding: 8px 12px;
        border-radius: 4px;
        cursor: pointer;
        z-index: 10000;
    }

    .modal-image-wrapper {
        text-align: center;
        background: white;
        padding: 1em;
        border-radius: 10px;
        max-width: 90%;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
    }

    .modal-image {
        max-width: 100%;
        height: auto;
        border-radius: 8px;
    }
</style>

<script>
    function showOverlay() {
        document.getElementById('overlay').style.display = 'flex';
    }

    function hideOverlay() {
        document.getElementById('overlay').style.display = 'none';
    }
</script>

<body class="bg-light">
    <div class="container mt-5">
        <h1 class="mb-4">シフト管理ダッシュボード</h1>

        <div class="row g-3">

            <div class="col-md-6">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">① シフト自動作成＆編集</h5>
                        <p class="card-text">
                            希望をもとに自動でシフトを作成し、そのまま編集画面に進みます。
                        </p>
                        <form action="{% url 'generate_and_edit' %}" method="post">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-primary w-100">シフトを作成して編集する</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">② 提出状況確認</h5>
                        <p class="card-text">スタッフの希望シフト提出状況を確認できます。</p>
                        <a href="{% url 'view_submissions' %}" class="btn btn-secondary w-100">提出状況を見る</a>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">③ シフト設定</h5>
                        <p class="card-text">シフトに関する設定ができます。</p>
                        <a href="{% url 'shift_config' %}" class="btn btn-secondary w-100">設定をする</a>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">④ QR表示</h5>
                        <p class="card-text">LINE追加用QRを表示します。</p>
                        <button class="btn btn-info w-100" onclick="showOverlay()">表示する</button>
                    </div>
                </div>
            </div>

            <!-- オーバーレイ＋画像モーダル -->
            <div id="overlay" style="display: none;">
                <button class="close-button" onclick="hideOverlay()">×</button>
                <div class="modal-image-wrapper">
                    <img src="/static/image.png" alt="説明画像" class="modal-image">
                </div>
            </div>

        </div>
    </div>
</body>

</html>